<?xml version="1.0" encoding="UTF-8"?>

<!--
 * See the NOTICE file distributed with this work for additional
 * information regarding copyright ownership.
 *
 * This is free software; you can redistribute it and/or modify it
 * under the terms of the GNU Lesser General Public License as
 * published by the Free Software Foundation; either version 2.1 of
 * the License, or (at your option) any later version.
 *
 * This software is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with this software; if not, write to the Free
 * Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
 * 02110-1301 USA, or see the FSF site: http://www.fsf.org.
-->

<xwikidoc version="1.1">
  <web>RISCOSSPlatformRiskDataCollectors</web>
  <name>GitHub</name>
  <language/>
  <defaultLanguage/>
  <translation>0</translation>
  <creator>xwiki:XWiki.Admin</creator>
  <creationDate>1430839819000</creationDate>
  <parent>RISCOSSPlatformRiskDataCollectors.WebHome</parent>
  <author>xwiki:XWiki.Admin</author>
  <contentAuthor>xwiki:XWiki.Admin</contentAuthor>
  <date>1430839819000</date>
  <contentUpdateDate>1430839819000</contentUpdateDate>
  <version>1.1</version>
  <title>GitHub Risk Data Collector</title>
  <comment/>
  <minorEdit>false</minorEdit>
  <syntaxId>xwiki/2.1</syntaxId>
  <hidden>false</hidden>
  <content/>
  <attachment>
    <filename>github.js</filename>
    <author>xwiki:XWiki.Admin</author>
    <date>1364415417000</date>
    <version>1.1</version>
    <comment/>
    <content>LyoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KdmFyIEh0dHBzID0gcmVxdWlyZSgnaHR0cHMnKTsKCnZhciBGTE9BVCA9IGZ1bmN0aW9uICh4KSB7CiAgICB2YXIgeHggPSBOdW1iZXIoeCk7CiAgICBpZiAoaXNOYU4oeHgpKSB7IHRocm93IG5ldyBFcnJvcigiWyIgKyB4ICsgIl0gbm90IGEgbnVtYmVyIik7IH0KICAgIHJldHVybiB4eDsKfTsKdmFyIElOVCA9IGZ1bmN0aW9uICh4KSB7CiAgICB2YXIgeHggPSBGTE9BVCh4KTsKICAgIGlmICh4eCAhPT0gTWF0aC5mbG9vcih4eCkpIHsgdGhyb3cgbmV3IEVycm9yKCJbIiArIHggKyAiXSBub3QgYW4gaW50ZWdlciIpOyB9CiAgICByZXR1cm4geHg7Cn07CnZhciBCT09MID0gZnVuY3Rpb24gKHgpIHsKICAgIHJldHVybiAoQm9vbGVhbih4KSA9PT0gdHJ1ZSkgPyAxIDogMDsKfTsKdmFyIERBVEUgPSBmdW5jdGlvbiAoeCkgewogICAgcmV0dXJuIE1hdGguZmxvb3IoKG5ldyBEYXRlKHgpKS5nZXRUaW1lKCkgLyAxMDAwKTsKfTsKCnZhciBFTEVNRU5UUyA9IHsKICAgICdvcGVuX2lzc3Vlc19jb3VudCc6IElOVCwKICAgICdzdGFyZ2F6ZXJzX2NvdW50JzogIElOVCwKICAgICdmb3Jrc19jb3VudCc6ICAgICAgIElOVCwKICAgICdzdWJzY3JpYmVyc19jb3VudCc6IElOVCwKICAgICdjcmVhdGVkX2F0JzogICAgICAgIERBVEUsCiAgICAnc2l6ZSc6ICAgICAgICAgICAgICBJTlQsCiAgICAnaGFzX3dpa2knOiAgICAgICAgICBCT09MLAogICAgJ3VwZGF0ZWRfYXQnOiAgICAgICAgREFURQp9OwoKdmFyIHBhcnNlID0gZnVuY3Rpb24gKGRhdGFTdHIpIHsKICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShkYXRhU3RyKTsKICAgIHZhciBvdXQgPSBbXTsKICAgIGZvciAodmFyIGVsZW0gaW4gRUxFTUVOVFMpIHsKICAgICAgICBvdXQucHVzaCh7IGlkOidnaXRodWI6cmVwbzonICsgZWxlbSwgdmFsdWU6IEVMRU1FTlRTW2VsZW1dKGRhdGFbZWxlbV0pIH0pOwogICAgfQogICAgcmV0dXJuIG91dDsKfTsKCnZhciBtYWtlUmVxID0gZnVuY3Rpb24gKHBhdGgsIGNhbGxiYWNrKSB7CiAgICB2YXIgb3V0ID0gW107CiAgICBIdHRwcy5yZXF1ZXN0KHsKICAgICAgICBwYXRoOiBwYXRoLAogICAgICAgIGhvc3Q6ImFwaS5naXRodWIuY29tIiwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICJVc2VyLUFnZW50IjogIlJJU0NPU1MgZ2l0aHViIGRhdGEgY29sbGVjdG9yIGh0dHA6Ly9yaXNjb3NzLmV1LyIKICAgICAgICB9CiAgICB9LCBmdW5jdGlvbiAocmVzcCkgewogICAgICAgIHJlc3Aub24oJ2RhdGEnLCBmdW5jdGlvbiAoY2h1bmspIHsgb3V0LnB1c2goY2h1bmsudG9TdHJpbmcoJ3V0ZjgnKSk7IH0pOwogICAgICAgIHJlc3Aub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgY2FsbGJhY2socGFyc2Uob3V0LmpvaW4oJycpKSk7CiAgICAgICAgfSk7CiAgICB9KS5lbmQoKTsKfTsKCnZhciBkZWNvZGUgPSBmdW5jdGlvbiAoY29udGVudCkgewogICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChjb250ZW50LnJlcGxhY2UoIl8iLCAiLyIpKTsKfTsKCnZhciBydW4gPSBmdW5jdGlvbiAoY29uZikgewogICAgbWFrZVJlcSgnL3JlcG9zLycgKyBkZWNvZGUoY29uZi50YXJnZXRFbnRpdHkpLCBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZWxlbSkgewogICAgICAgICAgICBlbGVtLnR5cGUgPSAnTlVNQkVSJzsKICAgICAgICAgICAgZWxlbS50YXJnZXQgPSBjb25mLnRhcmdldEVudGl0eTsKICAgICAgICB9KTsKICAgICAgICBjb25zb2xlLmxvZygnLS0tLS1CRUdJTiBSSVNLIERBVEEtLS0tLScpOwogICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGRhdGEsIG51bGwsICcgICcpKTsKICAgICAgICBjb25zb2xlLmxvZygnLS0tLS1FTkQgUklTSyBEQVRBLS0tLS0nKTsKICAgIH0pOwp9OwoKdmFyIG1haW4gPSBmdW5jdGlvbiAoKSB7CiAgICBwcm9jZXNzLnN0ZGluLnJlc3VtZSgpOwogICAgcHJvY2Vzcy5zdGRpbi5zZXRFbmNvZGluZygndXRmOCcpOwogICAgdmFyIGRhdGEgPSAiIjsKICAgIHByb2Nlc3Muc3RkaW4ub24oJ2RhdGEnLCBmdW5jdGlvbihjaHVuaykgeyBkYXRhICs9IGNodW5rOyB9KTsKICAgIHByb2Nlc3Muc3RkaW4ub24oJ2VuZCcsIGZ1bmN0aW9uKCkgeyBydW4oSlNPTi5wYXJzZShkYXRhKSk7IH0pOwp9OwptYWluKCk7Cg==</content>
    <filesize>2722</filesize>
  </attachment>
  <object>
    <name>RISCOSSPlatformRiskDataCollectors.GitHub</name>
    <number>1</number>
    <className>RISCOSSPlatformDataCollectorCode.DataCollectorClass</className>
    <guid>1e17ee45-0df6-483b-aeb4-fd73f67d0612</guid>
    <class>
      <name>RISCOSSPlatformDataCollectorCode.DataCollectorClass</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <command>
        <customDisplay/>
        <disabled>0</disabled>
        <editor>---</editor>
        <name>command</name>
        <number>1</number>
        <picker>0</picker>
        <prettyName>Command</prettyName>
        <rows>5</rows>
        <size>40</size>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </command>
      <layer>
        <cache>0</cache>
        <classname>RISCOSSPlatformLayerManagerCode.LayerClass</classname>
        <customDisplay/>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <idField/>
        <multiSelect>0</multiSelect>
        <name>layer</name>
        <number>2</number>
        <picker>0</picker>
        <prettyName>layer</prettyName>
        <relationalStorage>1</relationalStorage>
        <separator> </separator>
        <separators/>
        <size>1</size>
        <sort>none</sort>
        <sql/>
        <unmodifiable>0</unmodifiable>
        <validationMessage/>
        <validationRegExp/>
        <valueField/>
        <classType>com.xpn.xwiki.objects.classes.DBListClass</classType>
      </layer>
    </class>
    <property>
      <command>node ./github.js</command>
    </property>
    <property>
      <layer>RISCOSSPlatformLayers.OSSComponent</layer>
    </property>
  </object>
</xwikidoc>
