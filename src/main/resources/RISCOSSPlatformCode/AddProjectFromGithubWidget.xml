<?xml version='1.0' encoding='UTF-8'?>
<xwikidoc version="1.1">
  <web>RISCOSSPlatformCode</web>
  <name>AddProjectFromGithubWidget</name>
  <language/>
  <defaultLanguage>en</defaultLanguage>
  <translation>0</translation>
  <creator>xwiki:XWiki.superadmin</creator>
  <creationDate>1444313179000</creationDate>
  <parent>RISCOSSPlatformCode.WebHome</parent>
  <author>xwiki:XWiki.superadmin</author>
  <contentAuthor>xwiki:XWiki.superadmin</contentAuthor>
  <date>1444315974000</date>
  <contentUpdateDate>1444315974000</contentUpdateDate>
  <version>4.1</version>
  <title/>
  <comment>Upload new image ajax-loader.gif</comment>
  <minorEdit>false</minorEdit>
  <syntaxId>xwiki/2.1</syntaxId>
  <hidden>false</hidden>
  <content>{{velocity}}&#xd;
#if(!$isGuest)&#xd;
#set($discard = $xwiki.jsx.use("RISCOSSPlatformCode.AddProjectFromGithubWidget"))&#xd;
#set($discard = $xwiki.ssx.use("RISCOSSPlatformCode.AddProjectFromGithubWidget"))&#xd;
{{html}}&#xd;
&lt;h3>Register a new project by entering its GitHub repository URL&lt;/h3>&#xd;
&lt;label>&#xd;
Please enter the URL of a GitHub repository in the form below: &lt;br/>&#xd;
Example: https://github.com/octalmage/robotjs.git&#xd;
&lt;/label>&#xd;
&lt;br/>&#xd;
&lt;br/>&#xd;
&lt;input type="text" size="50" name="githubRepo" id="githubRepo" />&#xd;
&lt;input type="button" value="Analyze Project" class="button" id="addGithubPrjBtn"/>&#xd;
&lt;span class="ajaxloader" id="ajaxloader">&lt;/span>&#xd;
&lt;div id="gitValidationStatus">&lt;/div>&#xd;
{{/html}}&#xd;
#end&#xd;
{{/velocity}}</content>
  <attachment>
    <filename>ajax-loader.gif</filename>
    <author>xwiki:XWiki.superadmin</author>
    <date>1444315974000</date>
    <version>1.1</version>
    <comment/>
    <content>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</content>
    <filesize>1849</filesize>
  </attachment>
  <object>
    <name>RISCOSSPlatformCode.AddProjectFromGithubWidget</name>
    <number>0</number>
    <className>XWiki.JavaScriptExtension</className>
    <guid>463033da-d95c-4f7f-a286-8ca622488e96</guid>
    <class>
      <name>XWiki.JavaScriptExtension</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <cache>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <multiSelect>0</multiSelect>
        <name>cache</name>
        <number>5</number>
        <prettyName>Caching policy</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator> </separator>
        <separators> ,|</separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>long|short|default|forbid</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </cache>
      <code>
        <disabled>0</disabled>
        <name>code</name>
        <number>2</number>
        <prettyName>Code</prettyName>
        <rows>20</rows>
        <size>50</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </code>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
      <parse>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>parse</name>
        <number>4</number>
        <prettyName>Parse content</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </parse>
      <use>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <multiSelect>0</multiSelect>
        <name>use</name>
        <number>3</number>
        <prettyName>Use this extension</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator> </separator>
        <separators> ,|</separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>currentPage=Always on this page|onDemand=On demand|always=Always on this wiki</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </use>
    </class>
    <property>
      <cache>long</cache>
    </property>
    <property>
      <code>## Globals&#xd;
var githubProjectsActionURL = "$xwiki.getURL('RISCOSSPlatformCode.GithubAjaxActions', 'view', 'xpage=plain&amp;outputSyntax=plain')";&#xd;
var runAnalysisURL = "$xwiki.getURL('RISCOSSPlatformCode.EvaluateComponentForUseCase', 'view', 'riskConfiguration=RISCOSSPlatformRiskConfigurations.BasicRiskConfiguration')";&#xd;
var githubApiURL = "https://api.github.com/repos/";&#xd;
## Get RISCOSS platform configuration information&#xd;
#set($confDoc = $xwiki.getDocument("RISCOSSPlatformCode.RISCOSSConfiguration"))&#xd;
#set($superConf = $confDoc.getObject("RISCOSSPlatformCode.RISCOSSConfiguration"))&#xd;
#set($clientID = $superConf.getProperty("githubAppClientID").getValue())&#xd;
#set($clientSecret = $superConf.getProperty("githubAppClientSecret").getValue())&#xd;
var clientID = "$clientID";&#xd;
var clientSecret = "$clientSecret";&#xd;
##&#xd;
&#xd;
// Refresh ive table&#xd;
function refreshLiveTable(){&#xd;
   var liveTable = window["livetable_projects"];&#xd;
   if(!liveTable){&#xd;
      liveTable = window["livetable_entities"];&#xd;
   }&#xd;
   liveTable.clearCache();&#xd;
   liveTable.showRows(Math.max(liveTable.lastOffset, 1), liveTable.limit);&#xd;
}&#xd;
&#xd;
// Check if github project URL&#xd;
function isGithubRepoURL(s) {&#xd;
   var regexp = /((^https:\/\/github.com{1}?)(\/([\w#!:.?+=&amp;%@!\-\/]))+)?(\.git$)/&#xd;
   return regexp.test(s);&#xd;
}&#xd;
//&#xd;
&#xd;
require(['jquery'], function($){&#xd;
&#xd;
// Enable or disable entity analysis&#xd;
function enableDisableEntityAnalysis(githubRepo, status, description){&#xd;
   $.ajax({&#xd;
      "url": githubProjectsActionURL + "&amp;action=enableDisableAnalysis",&#xd;
      type: "POST",&#xd;
      dataType: "json",&#xd;
      data: { githubRepo: githubRepo, status: status, description: description}&#xd;
   }).done(function(rep){&#xd;
      if(status == "enable" &amp;&amp; rep.entityCreationStatus){&#xd;
         // Run the data collector&#xd;
         var entityDocRef = rep.entity;&#xd;
         $.ajax({&#xd;
            "url": githubProjectsActionURL + "&amp;action=runDataCollector" + "&amp;entity=" + encodeURIComponent(entityDocRef)&#xd;
         }).done(function( rep ){&#xd;
            // Run an analysis&#xd;
            $.ajax({&#xd;
               url: runAnalysisURL + "&amp;entity=" + encodeURIComponent(entityDocRef)&#xd;
            }).done(function( rep ) {&#xd;
               refreshLiveTable();&#xd;
               $("#ajaxloader").hide();&#xd;
               $("#githubRepo").attr("disabled", false);&#xd;
               $("#githubRepo").val("");&#xd;
            });&#xd;
         });&#xd;
      }&#xd;
      else&#xd;
      {&#xd;
          refreshLiveTable();&#xd;
          $("#ajaxloader").hide();&#xd;
          $("#githubRepo").attr("disabled", false);&#xd;
          $("#githubRepo").val("");&#xd;
      }&#xd;
   });&#xd;
}&#xd;
&#xd;
&#xd;
$(function() {&#xd;
   var messages = {errorMsg:"Please enter a valid Github repository URL.", "successMsg":"OK.", "projectExists":"The project already exists in the list of your github projects.", "projectAlreadyAnalysed": "The project was already analyzed by another user."}&#xd;
   // Initialize the add github project button   &#xd;
   $("#addGithubPrjBtn").click(function(event) {&#xd;
      var githubRepoURL = $("#githubRepo").val();&#xd;
      $("#gitValidationStatus").html("");&#xd;
      var repoOk = false;&#xd;
      var githubUser = "";&#xd;
      var githubRepo = "";&#xd;
      if(isGithubRepoURL(githubRepoURL)){&#xd;
          var str = githubRepoURL.replace("https://github.com/","").replace(".git", "");&#xd;
          var t = str.split('/');&#xd;
          if(t.length == 2){&#xd;
             githubUser = t[0];&#xd;
             githubRepo = t[1];&#xd;
             repoOk = true;&#xd;
          }  &#xd;
      }&#xd;
      else&#xd;
      {&#xd;
         // Check if the entered url is github project full_name&#xd;
         var t = githubRepoURL.split('/');&#xd;
         if(t.length == 2){&#xd;
            githubUser = t[0];&#xd;
            githubRepo = t[1];&#xd;
            githubRepoURL = "https://github.com/" + githubUser + "/" + githubRepo + ".git";&#xd;
            repoOk = true;&#xd;
         }&#xd;
      }&#xd;
      if(repoOk){&#xd;
         // Check if the github project is valid, exists and accessible&#xd;
         $("#ajaxloader").css("display", "inline-block");&#xd;
         $("#githubRepo").attr("disabled", true);&#xd;
         $.ajax({&#xd;
            url: githubApiURL + githubUser + '/' + githubRepo + '?client_id=' + clientID + '&amp;client_secret=' + clientSecret,&#xd;
            dataType: "json"&#xd;
         }).&#xd;
         fail(function( jqXHR, textStatus, errorThrown ) {&#xd;
            $("#gitValidationStatus").css("color","red");&#xd;
            $("#gitValidationStatus").html(messages.errorMsg);&#xd;
            $("#ajaxloader").hide();&#xd;
            $("#githubRepo").attr("disabled", false);&#xd;
         })&#xd;
         .done(function(rep){&#xd;
            $("#ajaxloader").hide();&#xd;
            $("#githubRepo").attr("disabled", false);&#xd;
            if(rep){&#xd;
               // Check if the rep exists in list of users projects&#xd;
               $("#ajaxloader").css("display", "inline-block");&#xd;
               $("#githubRepo").attr("disabled", true);&#xd;
               $.ajax({&#xd;
                  url: githubProjectsActionURL + "&amp;action=checkProjectExists",&#xd;
                  type: "POST",&#xd;
                  dataType: "json",&#xd;
                  data: {githubRepo: githubRepoURL}&#xd;
               }).done(function( rep ) {&#xd;
                  if(rep.projectExists == 1 || rep.projectExists == 2){//Project exists&#xd;
                     $("#gitValidationStatus").css("color","red");&#xd;
                     if(rep.projectExists == 1){&#xd;
                        $("#gitValidationStatus").html(messages.projectExists);&#xd;
                     }&#xd;
                     else&#xd;
                     {&#xd;
                        $("#gitValidationStatus").html(messages.projectAlreadyAnalysed);&#xd;
                     }&#xd;
                     if(rep.projectPageURL &amp;&amp; rep.projectPageURL != ""){&#xd;
                        $("#gitValidationStatus").append('&lt;div>&lt;a href="' + rep.projectPageURL + '" class="viewprj">View the project analysis&lt;/a>&lt;/div>');&#xd;
                     } &#xd;
                     $("#ajaxloader").hide();&#xd;
                     $("#githubRepo").attr("disabled", false);  &#xd;
                  }&#xd;
                  else&#xd;
                  {&#xd;
                     // Get the github user and project name from the URL&#xd;
                     var str = githubRepoURL.replace("https://github.com/","").replace(".git", "");&#xd;
                     var t = str.split('/');&#xd;
                     if(t.length == 2){&#xd;
                        var gitUser = t[0];&#xd;
                        var gitRepo = t[1];&#xd;
                        // Get the repository description&#xd;
                        $.ajax({&#xd;
                          url: githubApiURL + gitUser + '/' + gitRepo + '?client_id=' + clientID + '&amp;client_secret=' + clientSecret,&#xd;
                          dataType: "json"&#xd;
                        }).done(function(rep){&#xd;
                          if(rep){&#xd;
                              $("#ajaxloader").css("display", "inline-block");&#xd;
                              $("#githubRepo").attr("disabled", true);&#xd;
                              enableDisableEntityAnalysis(githubRepoURL, "enable", rep.description);&#xd;
                          }&#xd;
                       });&#xd;
                    }&#xd;
                 }&#xd;
              });&#xd;
            }&#xd;
            else&#xd;
            {&#xd;
                $("#gitValidationStatus").css("color","red");&#xd;
                $("#gitValidationStatus").html(messages.errorMsg);&#xd;
            }  &#xd;
         });&#xd;
      }&#xd;
      else&#xd;
      {&#xd;
        $("#gitValidationStatus").css("color","red");&#xd;
        $("#gitValidationStatus").html(messages.errorMsg);&#xd;
      }&#xd;
      event.preventDefault();&#xd;
   });&#xd;
&#xd;
   // Initialize projects enable/disable checkboxs&#xd;
   $( ".xwiki-livetable" ).on( "click", ".enabdisabchk", function() {&#xd;
      var inputVal = $(this).val();&#xd;
      var githubRepo = inputVal.split('|')[0];&#xd;
      var githubProjectID = inputVal.split('|')[1];&#xd;
      var status = 'enable';&#xd;
      var projectDescription = "";&#xd;
      if (!$(this).is(":checked")) {&#xd;
         // Enable analysis&#xd;
         status = 'disable';     &#xd;
      }&#xd;
      if(status == "enable"){&#xd;
         $("#analysisstatus" + githubProjectID).html("Evaluating...");&#xd;
         projectDescription = $("#projectDescription" + githubProjectID).val();&#xd;
      }&#xd;
      else&#xd;
      {&#xd;
         $("#analysisstatus" + githubProjectID).html("Disabling...");&#xd;
      }&#xd;
      enableDisableEntityAnalysis(githubRepo, status, projectDescription);&#xd;
   });&#xd;
 &#xd;
   // Initialize re-evaluate btns&#xd;
   $( ".xwiki-livetable" ).on( "click", ".reevaluateBtn", function() {&#xd;
      var projectInfo = $(this).attr('rel');&#xd;
      var githubRepo = projectInfo.split('|')[0];&#xd;
      var entity = projectInfo.split('|')[1];&#xd;
      var githubProjectID = projectInfo.split('|')[2];&#xd;
      $("#analysisstatus" + githubProjectID).html("Evaluating...");&#xd;
      // Run an analysis&#xd;
      $.ajax({&#xd;
         url: runAnalysisURL + "&amp;entity=" + entity,&#xd;
      }).done(function( rep ) {&#xd;
         refreshLiveTable();&#xd;
      });&#xd;
   });&#xd;
});&#xd;
});</code>
    </property>
    <property>
      <name></name>
    </property>
    <property>
      <parse>1</parse>
    </property>
    <property>
      <use>onDemand</use>
    </property>
  </object>
  <object>
    <name>RISCOSSPlatformCode.AddProjectFromGithubWidget</name>
    <number>0</number>
    <className>XWiki.StyleSheetExtension</className>
    <guid>d33ee410-3227-457a-8227-950f6c170018</guid>
    <class>
      <name>XWiki.StyleSheetExtension</name>
      <customClass/>
      <customMapping/>
      <defaultViewSheet/>
      <defaultEditSheet/>
      <defaultWeb/>
      <nameField/>
      <validationScript/>
      <cache>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <multiSelect>0</multiSelect>
        <name>cache</name>
        <number>5</number>
        <prettyName>Caching policy</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator> </separator>
        <separators> ,|</separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>long|short|default|forbid</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </cache>
      <code>
        <disabled>0</disabled>
        <name>code</name>
        <number>2</number>
        <prettyName>Code</prettyName>
        <rows>20</rows>
        <size>50</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.TextAreaClass</classType>
      </code>
      <name>
        <disabled>0</disabled>
        <name>name</name>
        <number>1</number>
        <prettyName>Name</prettyName>
        <size>30</size>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.StringClass</classType>
      </name>
      <parse>
        <disabled>0</disabled>
        <displayFormType>select</displayFormType>
        <displayType>yesno</displayType>
        <name>parse</name>
        <number>4</number>
        <prettyName>Parse content</prettyName>
        <unmodifiable>0</unmodifiable>
        <classType>com.xpn.xwiki.objects.classes.BooleanClass</classType>
      </parse>
      <use>
        <cache>0</cache>
        <disabled>0</disabled>
        <displayType>select</displayType>
        <multiSelect>0</multiSelect>
        <name>use</name>
        <number>3</number>
        <prettyName>Use this extension</prettyName>
        <relationalStorage>0</relationalStorage>
        <separator> </separator>
        <separators> ,|</separators>
        <size>1</size>
        <unmodifiable>0</unmodifiable>
        <values>currentPage=Always on this page|onDemand=On demand|always=Always on this wiki</values>
        <classType>com.xpn.xwiki.objects.classes.StaticListClass</classType>
      </use>
    </class>
    <property>
      <cache>long</cache>
    </property>
    <property>
      <code>.enabdisabchk{&#xd;
   float:left;&#xd;
}&#xd;
&#xd;
.analysistatus{&#xd;
   text-align:left;&#xd;
}&#xd;
&#xd;
.reevaluateBtn{&#xd;
   background : url("$xwiki.getSkinFile('icons/silk/arrow_rotate_clockwise.png')");&#xd;
   background-repeat: no-repeat;&#xd;
   display: inline-block;&#xd;
   width: 16px;&#xd;
   height: 16px;&#xd;
   float: left;&#xd;
}&#xd;
&#xd;
td.reevaluate{&#xd;
   text-align: left !important;&#xd;
}&#xd;
&#xd;
#gitValidationStatus{&#xd;
   padding: 1em 0;&#xd;
}&#xd;
&#xd;
.ajaxloader{&#xd;
   background : url("$doc.getAttachmentURL('ajax-loader.gif')");&#xd;
   background-repeat: no-repeat;&#xd;
   display: inline-block;&#xd;
   width: 16px;&#xd;
   height: 16px;&#xd;
   display: none;&#xd;
}&#xd;
&#xd;
a.viewprj, a.viewprj:link, a.viewprj:visited, a.viewprj:hover, a.viewprj:active{&#xd;
   color: blue;&#xd;
   text-decoration: underline;&#xd;
}</code>
    </property>
    <property>
      <name></name>
    </property>
    <property>
      <parse>1</parse>
    </property>
    <property>
      <use>onDemand</use>
    </property>
  </object>
</xwikidoc>